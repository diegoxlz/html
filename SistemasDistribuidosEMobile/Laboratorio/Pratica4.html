<!DOCTYPE html>
<html>
<head>
<link rel="stylesheet" type="text/css" href="pratica4.css" media="all" />
<script src="pratica4.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script>
    function mascara(telefone){ 
        if(telefone.value.length == 0)
            telefone.value = '(' + telefone.value; 
        //quando começamos a digitar, o script irá inserir um parênteses no começo do campo.
        if(telefone.value.length == 3)
            telefone.value = telefone.value + ') '; 
        //quando o campo já tiver 3 caracteres (um parênteses e 2 números) o script irá inserir mais um parênteses, fechando assim o código de área. 
    };
    $(document).ready(function(){
        $("#linknaoseicep1").click(function(){
            $("#seicep1").hide();
            $("#naoseicep1").fadeIn(1000);
            $("#cep1").removeAttr('required');
            $("#estado1").removeAttr('required');
            $("#cidade1").removeAttr('required');
            $('#cep1').prop('disabled',true);
            $('#estado1').prop('disabled',true); 
            $('#cidade1').prop('disabled',true); 
            $("#estado11").prop('required',true);
            $("#cidade11").prop('required',true);
        });
    });
    $(document).ready(function(){
        $("#linkseicep1").click(function(){
            $("#naoseicep1").hide();
            $("#seicep1").fadeIn(1000);
            $("#estado11").removeAttr('required');
            $("#cidade11").removeAttr('required');
            $('#estado11').prop('disabled',true); 
            $('#cidade11').prop('disabled',true); 
            $('#cep1').removeAttr('disabled');
            $('#estado1').removeAttr('disabled'); 
            $('#cidade1').removeAttr('disabled'); 
            $("#cep1").prop('required',true);
            $("#estado1").prop('required',true);
            $("#cidade1").prop('required',true);
        });
    });
    $(document).ready(function(){
        $("#linknaoseicep2").click(function(){
            $("#seicep2").hide();
            $("#naoseicep2").fadeIn(1000);
            $('#cep2').prop('disabled',true);
            $('#estado2').prop('disabled',true); 
            $('#cidade2').prop('disabled',true); 
    
        });
    });
    $(document).ready(function(){
        $("#linkseicep2").click(function(){
            $("#naoseicep2").hide();
            $("#seicep2").fadeIn(1000);
            $('#estado22').prop('disabled',true); 
            $('#cidade22').prop('disabled',true); 
            $('#cep2').removeAttr('disabled');
            $('#estado2').removeAttr('disabled'); 
            $('#cidade2').removeAttr('disabled'); 
    
        });
    });
    </script>
</head>
<body>

<h1>Prática 4</h1>

<h2>Exercício 1</h2>
<div class="input">
Informe o primeiro número:
<input type="text" id="n1">
</div>

<div class="input">
Informe o primeiro número:
<input type="text" id="n2">
</div>

<input type="button" value="Somar" onclick="somar()">
<div class="resposta" id="resposta">oii</div>

<div style="clear:both;margin:10px;"></div>
<h2>Exercício 2</h2>
<div id="caixa">
    <h1>Sistema de cadastro de Funcionários</h1>
    <form method="POST" action="post/CADASTRAR.php">
      <div id="input"><input type="text" id="nome" name="nome" placeholder="Nome" pattern="[A-Za-zÀ-ú0-9., -]+" minlength="3" maxlength="255" aria-label="Nome" required></div>
      <div id="input"><input type="email" id="email" name="email" placeholder="Email" aria-label="Email" required></div>
      <div id="input"><input type="tel" id="telefone" name="telefone" placeholder="Telefone com DDD" pattern="[(][0-9]{2}[)] [0-9]+" minlength="13" maxlength="14" aria-label="Telefone" onkeypress="mascara(this)" required></div>
      <div id="input"><input type="text" id="cpf" name="cpf" placeholder="CPF" pattern="[0-9., -]+" minlength="11" maxlength="11" aria-label="CPF" required></div>
      <div id="endereco">Gênero</div>
      <div class="radio-toolbar">
      <input type="radio" id="masculino" name="genero" value="masculino" checked>
      <label for="masculino">Masculino</label>
      <input type="radio" id="feminino" name="genero" value="feminino">
      <label for="feminino">Feminino</label>
      </div>
      <div id="endereco">Data de nascimento</div>
    <select aria-label="Dia" name="dia" id="day" title="Dia" class="inputs" required>
    <option value="">Dia</option><option value="01">1</option><option value="02">2</option><option value="03">3</option><option value="04">4</option><option value="05">5</option><option value="06">6</option><option value="07">7</option><option value="08">8</option><option value="09">9</option><option value="10">10</option><option value="11">11</option><option value="12">12</option><option value="13">13</option><option value="14">14</option><option value="15">15</option><option value="16">16</option><option value="17">17</option><option value="18">18</option><option value="19">19</option><option value="20">20</option><option value="21">21</option><option value="22">22</option><option value="23">23</option><option value="24">24</option><option value="25">25</option><option value="26">26</option><option value="27">27</option><option value="28">28</option><option value="29">29</option><option value="30">30</option><option value="31">31</option>
    </select>
    <select aria-label="Mês" name="mes" id="month" title="Mês" class="inputs" required>
    <option value="">Mês</option><option value="01">Jan</option><option value="02">Fev</option><option value="03">Mar</option><option value="04">Abr</option><option value="05">Maio</option><option value="06">Jun</option><option value="07">Jul</option><option value="08">Ago</option><option value="09">Set</option><option value="10">Out</option><option value="11">Nov</option><option value="12">Dez</option>
    </select>
    <select aria-label="Ano" name="ano" id="year" title="Ano" class="inputs" required>
    <option value="">Ano</option><option value="2018">2018</option><option value="2017">2017</option><option value="2016">2016</option><option value="2015">2015</option><option value="2014">2014</option><option value="2013">2013</option><option value="2012">2012</option><option value="2011">2011</option><option value="2010">2010</option><option value="2009">2009</option><option value="2008">2008</option><option value="2007">2007</option><option value="2006">2006</option><option value="2005">2005</option><option value="2004">2004</option><option value="2003">2003</option><option value="2002">2002</option><option value="2001">2001</option><option value="2000">2000</option><option value="1999">1999</option><option value="1998">1998</option><option value="1997">1997</option><option value="1996">1996</option><option value="1995">1995</option><option value="1994">1994</option><option value="1993">1993</option><option value="1992">1992</option><option value="1991">1991</option><option value="1990">1990</option><option value="1989">1989</option><option value="1988">1988</option><option value="1987">1987</option><option value="1986">1986</option><option value="1985">1985</option><option value="1984">1984</option><option value="1983">1983</option><option value="1982">1982</option><option value="1981">1981</option><option value="1980">1980</option><option value="1979">1979</option><option value="1978">1978</option><option value="1977">1977</option><option value="1976">1976</option><option value="1975">1975</option><option value="1974">1974</option><option value="1973">1973</option><option value="1972">1972</option><option value="1971">1971</option><option value="1970">1970</option><option value="1969">1969</option><option value="1968">1968</option><option value="1967">1967</option><option value="1966">1966</option><option value="1965">1965</option><option value="1964">1964</option><option value="1963">1963</option><option value="1962">1962</option><option value="1961">1961</option><option value="1960">1960</option><option value="1959">1959</option><option value="1958">1958</option><option value="1957">1957</option><option value="1956">1956</option><option value="1955">1955</option><option value="1954">1954</option><option value="1953">1953</option><option value="1952">1952</option><option value="1951">1951</option><option value="1950">1950</option><option value="1949">1949</option><option value="1948">1948</option><option value="1947">1947</option><option value="1946">1946</option><option value="1945">1945</option><option value="1944">1944</option><option value="1943">1943</option><option value="1942">1942</option><option value="1941">1941</option><option value="1940">1940</option><option value="1939">1939</option><option value="1938">1938</option><option value="1937">1937</option><option value="1936">1936</option><option value="1935">1935</option><option value="1934">1934</option><option value="1933">1933</option><option value="1932">1932</option><option value="1931">1931</option><option value="1930">1930</option><option value="1929">1929</option><option value="1928">1928</option><option value="1927">1927</option><option value="1926">1926</option><option value="1925">1925</option><option value="1924">1924</option><option value="1923">1923</option><option value="1922">1922</option><option value="1921">1921</option><option value="1920">1920</option><option value="1919">1919</option><option value="1918">1918</option><option value="1917">1917</option><option value="1916">1916</option><option value="1915">1915</option><option value="1914">1914</option><option value="1913">1913</option><option value="1912">1912</option><option value="1911">1911</option><option value="1910">1910</option><option value="1909">1909</option><option value="1908">1908</option><option value="1907">1907</option><option value="1906">1906</option><option value="1905">1905</option>
    </select>
    
      <div id="endereco" style="margin-top:10px">Endereço residencial</div>
      <div id="seicep1">
      <div id="input"><input type="text" id="cep1" name="cep1" placeholder="CEP" pattern="[0-9.,/ -]+" minlength="8" maxlength="9" aria-label="CEP" style="width: calc(33%);margin-right:8px" required><a href="#naoseicep" class="link" id="linknaoseicep1">Não sei o CEP</a></div>
      <div id="input"><input type="text" id="estado1" name="estado1" style="width: calc(10%);margin-right:8px" placeholder="UF" readonly="true" required><input type="text" id="cidade1" name="cidade1" style="width: calc(68%);" placeholder="Cidade" readonly="true" required></div>
      </div>
      <div id="naoseicep1" style="display:none">
      <div id="input"><select name="estado11" id="estado11" class="redd">
      <option value="" disabled selected>UF</option>
    <!--<?php
        $sql = "SELECT id, uf
                    FROM estados
                    ORDER BY uf";
            $res = $PDO->query( $sql );
            while ( $row = $res->fetch(PDO::FETCH_ASSOC) ) {
                echo '<option value="'.$row['id'].'">'.$row['uf'].'</option>';
            }
        echo '</select>
        <select name="cidade11" id="cidade11" class="redd">
        <option value="" disabled selected>Cidade</option>
        </select>';
    ?>-->
            <script type="text/javascript">
            $(function(){
                $('#estado11').change(function(){
                    if( $(this).val() ) {
                        $('#cidade11').hide();
                        $('.carregando').show();
                        $.getJSON('partes/carrega_cidades.php?search=',{estado: $(this).val(), ajax: 'true'}, function(j){
                            var options = '<option value=""></option>';	
                            for (var i = 0; i < j.length; i++) {
                                options += '<option value="' + j[i].cidade + '">' + j[i].nome + '</option>';
                            }	
                            $('#cidade11').html(options).show();
                            $('.carregando').hide();
                        });
                    } else {
                        $('#cidade11').html('<option value="">Escolha um estado</option>');
                    }
                });
            });
            </script>
            <a href="#seicep" class="link" id="linkseicep1">Digitar CEP</a>
        </div>
    
      </div>
      <div id="input"><input type="text" id="bairro1" name="bairro1" placeholder="Bairro" pattern="[A-Za-zÀ-ú0-9.,() -]+" minlength="3" maxlength="100" aria-label="Bairro" required></div>
      <div id="input"><input type="text" id="rua1" name="rua1" style="width: calc(68%);margin-right:8px" placeholder="Rua" pattern="[A-Za-zÀ-ú0-9.,() -]+" minlength="3" maxlength="100" aria-label="Rua" required><input type="text" id="numero1" name="numero1" style="width: calc(10%)" placeholder="Nº" pattern="[0-9]+" minlength="1" maxlength="6" aria-label="Número" required></div>  
      <div id="input"><input type="text" id="complemento1" name="complemento1" placeholder="Complemento (opcional)" pattern="[A-Za-zÀ-ú0-9.,() -]+" maxlength="255" aria-label="Complemento"></div>  
      <div class="radio-toolbar">
      <input type="radio" id="casa" name="tipo_imovel" value="casa" checked>
      <label for="casa">Casa</label>
      <input type="radio" id="apartamento" name="tipo_imovel" value="apartamento">
      <label for="apartamento">Apartamento</label>
    </div>
      
      <div id="endereco" style="margin-top:10px">Endereço comercial (opcional)</div>
      <div id="seicep2">
      <div id="input"><input type="text" id="cep2" name="cep2" placeholder="CEP" pattern="[0-9.,/ -]+" minlength="8" maxlength="9" aria-label="CEP" style="width: calc(33%);margin-right:8px"><a href="#naoseicep2" class="link" id="linknaoseicep2">Não sei o CEP</a></div>
      <div id="input"><input type="text" id="estado2" name="estado2" style="width: calc(10%);margin-right:8px" placeholder="UF" readonly="true"><input type="text" id="cidade2" name="cidade2" style="width: calc(68%);" placeholder="Cidade" readonly="true"></div>
      </div>
      <div id="naoseicep2" style="display:none">
      <div id="input"><select name="estado22" id="estado22" class="inputs">
      <option value="" disabled selected>UF</option>
       <!-- <?php
        $sql = "SELECT id, uf
                    FROM estados
                    ORDER BY uf";
            $res = $PDO->query( $sql );
            while ( $row = $res->fetch(PDO::FETCH_ASSOC) ) {
                echo '<option value="'.$row['id'].'">'.$row['uf'].'</option>';
            }
    echo '</select>
    <select name="cidade22" id="cidade22" class="inputs">
        <option value="" disabled selected>Cidade</option>
    </select>';
        ?>-->
            <script type="text/javascript">
            $(function(){
                $('#estado22').change(function(){
                    if( $(this).val() ) {
                        $('#cidade22').hide();
                        $('.carregando').show();
                        $.getJSON('partes/carrega_cidades.php?search=',{estado: $(this).val(), ajax: 'true'}, function(j){
                            var options = '<option value=""></option>';	
                            for (var i = 0; i < j.length; i++) {
                                options += '<option value="' + j[i].cidade + '">' + j[i].nome + '</option>';
                            }	
                            $('#cidade22').html(options).show();
                            $('.carregando').hide();
                        });
                    } else {
                        $('#cidade22').html('<option value="">Escolha um estado</option>');
                    }
                });
            });
            </script>
            <a href="#seicep2" id="linkseicep2" class="link">Digitar CEP</a>
        </div>
    
      </div>
      <div id="input"><input type="text" id="bairro2" name="bairro2" placeholder="Bairro" pattern="[A-Za-zÀ-ú0-9.,() -]+" minlength="3" maxlength="55" aria-label="Bairro"></div>
      <div id="input"><input type="text" id="rua2" name="rua2" style="width: calc(68%);margin-right:8px" placeholder="Rua" pattern="[A-Za-zÀ-ú0-9.,() -]+" minlength="3" maxlength="55" aria-label="Rua"><input type="text" id="numero" name="numero2" style="width: calc(10%)" placeholder="Nº" pattern="[A-Za-zÀ-ú0-9., -]+" minlength="3" maxlength="6" aria-label="Número"></div>  
      <div id="input"><input type="text" id="complemento2" name="complemento2" placeholder="Complemento (opcional)" pattern="[A-Za-zÀ-ú0-9.,() -]+" minlength="3" maxlength="55" aria-label="Complemento"></div>  
      <input type="hidden" id="g-recaptcha-pagina" name="g-recaptcha-response">
      <input type="submit" value="Cadastrar">
    </form>
    </div>
    <script>
            $("#cep1").focusout(function(){
                //Início do Comando AJAX
                $.ajax({
                    //O campo URL diz o caminho de onde virá os dados
                    //É importante concatenar o valor digitado no CEP
                    url: 'https://viacep.com.br/ws/'+$(this).val()+'/json/unicode/',
                    //Aqui você deve preencher o tipo de dados que será lido,
                    //no caso, estamos lendo JSON.
                    dataType: 'JSON',
                    //SUCESS é referente a função que será executada caso
                    //ele consiga ler a fonte de dados com sucesso.
                    //O parâmetro dentro da função se refere ao nome da variável
                    //que você vai dar para ler esse objeto.
                    success: function(resposta){
                        //Agora basta definir os valores que você deseja preencher
                        //automaticamente nos campos acima.
                        $("#rua1").val(resposta.logradouro);
                        $("#complemento1").val(resposta.complemento);
                        $("#bairro1").val(resposta.bairro);
                        $("#cidade1").val(resposta.localidade);
                        $("#estado1").val(resposta.uf);
                        //Vamos incluir para que o Número seja focado automaticamente
                        //melhorando a experiência do usuário
                        $("#numero1").focus();
                    }
                });
            });
            $("#cep2").focusout(function(){
                $.ajax({
                    url: 'https://viacep.com.br/ws/'+$(this).val()+'/json/unicode/',
                    dataType: 'JSON',
                    success: function(resposta){
                        $("#rua2").val(resposta.logradouro);
                        $("#complemento2").val(resposta.complemento);
                        $("#bairro2").val(resposta.bairro);
                        $("#cidade2").val(resposta.localidade);
                        $("#estado2").val(resposta.uf);
                        $("#numero2").focus();
                    }
                });
            });
    </script>
<body>
</body>
</html>
